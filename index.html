<!doctype html>
<html>
<script>
var HEAP = new ArrayBuffer(32*1024*1024);
var I4 = new Int32Array(HEAP);
var tempptr = 0;
var imageptr = (8*8)<<2;
</script>
<script src="filter.js"></script>
<script src="dct.js"></script>
<script src="dering.js"></script>
<script src="extra.js"></script>
<style>
div > label, div > input, div > span {
  display: inline-block;
  vertical-align: middle;
}
#canvas {
  max-width: 100%;
}
</style>
<body>
<h1>Daala image methods live demo</h1>
<img style="display:none;" id="srcimage" src="barrbrain.jpg" onload="init_image()"/>
<div>
  <label for="scale">Quantization level (log scale)</label>
  <input id="scale" type="range" min="1" max="63" step="1" value="16" oninput="changeScale(this)"/>
  <span id="scaleVal">2.875</span>
</div><div>
  <label for="lapping">4-point lapping filter (deblocking)</label>
  <input id="lapping" checked type="checkbox" onchange="changeLapping(this)"/>
</div><div>
  <label for="strenth">Deringing filter strength</label>
  <input id="strength" type="range" min="0" max="5" step="1" value="3" oninput="changeStrength(this)"/>
  <span id="strengthVal">1</span>
</div><div>
  <label for="userImage">Load your own image (not uploaded)</label>
  <input id="userImage" type="file" onchange="loadUserImage(event)" />
</div>
<canvas id='canvas' width=1 height=1></canvas>
</body>
